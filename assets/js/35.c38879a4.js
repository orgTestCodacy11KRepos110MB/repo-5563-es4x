(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{448:function(a,s,t){"use strict";t.r(s);var e=t(56),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"graalvm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#graalvm"}},[a._v("#")]),a._v(" GraalVM")]),a._v(" "),t("p",[a._v("ES4X utiliza GraalVM, sin embargo el mismo codigo se ejecutara en mode "),t("strong",[a._v("interpretado")]),a._v(" (interpreted) en Java 8, 9, 10 y OpenJ9.")]),a._v(" "),t("p",[a._v("Para JDK >= 11 (con soporte JVMCI) o GraalVM ES4X se ejecuta en modo "),t("strong",[a._v("compilado")]),a._v(" (compiled).")]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),t("p",[a._v("Es decir, por favor utiliza Java >= 11 o GraalVM.")])]),a._v(" "),t("p",[a._v("Hay beneficios en utilizar GraalJS, principalmente el soporte actualizado del lenguage >=ES6 y el suporte inicial para generadores,\npromesas, etc...")]),a._v(" "),t("h2",{attrs:{id:"diferencias-con-nashorn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#diferencias-con-nashorn"}},[a._v("#")]),a._v(" Diferencias con Nashorn")]),a._v(" "),t("p",[a._v("Diferente a "),t("code",[a._v("Nashorn")]),a._v(", "),t("code",[a._v("GraalJS")]),a._v(" interoperatibilidad "),t("em",[a._v("java")]),a._v(" sigue "),t("strong",[a._v("exactamente")]),a._v(" el nombre clase/metodo de Java. Por ejemplo, el uso de\npropiedades nombradas para referirse a los getters y setters, deben usarse el "),t("em",[a._v("getter")]),a._v(" y "),t("em",[a._v("setter")]),a._v(". Por ejemplo:")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Hello")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("private")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("Cuando usas este objeto Java en Graal, esto no funcionara:")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" hello "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Hello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// get the name")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// FAIL")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// set the name")]),a._v("\nhello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Paulo'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// FAIL")]),a._v("\n")])])]),t("p",[a._v("Esto no es valido en Graal y deberia ser:")]),a._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" hello "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Hello")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// get the name")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("var")]),a._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// set the name")]),a._v("\nhello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Paulo'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h2",{attrs:{id:"multihilo-threading"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#multihilo-threading"}},[a._v("#")]),a._v(" Multihilo (threading)")]),a._v(" "),t("p",[a._v("GraalJS es muy estricto con un hilo unico en el contexto JS del momento. Cuando se trabaja con APIS de Vert.x asincronico\nesto no deberia suponer un problema. Sin embargo otras librerias pueden causar problemas. Para evitar esta limitacion, se\nrecomienda el uso del API "),t("code",[a._v("Worker")]),a._v(" o de "),t("code",[a._v("EventBus")]),a._v(".")]),a._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),t("p",[a._v("GraalJS no permitira el acceso multihilo en el contexto de un mismo script. Si es necesario trabajor con varios hilos,\nconsidera mirar el "),t("a",{attrs:{href:"./worker"}},[a._v("Worker API")]),a._v(".")])]),a._v(" "),t("h2",{attrs:{id:"imagines-nativas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#imagines-nativas"}},[a._v("#")]),a._v(" Imagines Nativas")]),a._v(" "),t("p",[a._v("Actualmente no puedes generar imagenes nativas en ES4X, esta limitacion es porque el analisis estatico del compilador AOT\nno considerara el codigo Java invocado desde el script (las clases no estaran disponibles), ademas del hecho de que el\ncompilador no dispone de interoperatibilidad JVM durante la ejecucion.")]),a._v(" "),t("p",[a._v("Hay trabajo en progreso en esta area asi que podria ser disponible en el futuro.")])])}),[],!1,null,null,null);s.default=n.exports}}]);